{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patri\\\\ReactProjects\\\\react-firebase-grid-dashboard\\\\src\\\\pages\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { login } from '../firebase/auth';\nimport { Link } from 'react-router-dom';\n\nfunction Login(props) {\n  const {\n    register,\n    handleSubmit,\n    reset\n  } = useForm();\n  const [isLoading, setLoading] = useState(false);\n\n  const routeOnLogin = async user => {\n    const token = await user.getIdTokenResult();\n\n    if (token.claims.admin) {\n      props.history.push('/users');\n    } else {\n      props.history.push(`/profile/${user.uid}`);\n    }\n  };\n\n  const onSubmit = async data => {\n    let user;\n    setLoading(true);\n\n    try {\n      user = await login(data);\n      reset();\n    } catch (error) {\n      console.log(error);\n    }\n\n    if (user) {\n      routeOnLogin(user);\n    } else {\n      setLoading(false);\n    }\n  };\n\n  const formClassName = `ui form ${isLoading ? 'loading' : ''}`;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui card login-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: formClassName,\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"Email\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Email\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"field actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"ui primary button login\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"Login\"), \"or\", /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"Sign Up\"))))));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/patri/ReactProjects/react-firebase-grid-dashboard/src/pages/Login.js"],"names":["React","useState","useForm","login","Link","Login","props","register","handleSubmit","reset","isLoading","setLoading","routeOnLogin","user","token","getIdTokenResult","claims","admin","history","push","uid","onSubmit","data","error","console","log","formClassName"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { login } from '../firebase/auth';\nimport { Link } from 'react-router-dom';\n\nfunction Login(props) {\n  const { register, handleSubmit, reset } = useForm();\n  const [isLoading, setLoading] = useState(false);\n\n  const routeOnLogin = async (user) => {\n    const token = await user.getIdTokenResult();\n    if (token.claims.admin) {\n      props.history.push('/users');\n    } else {\n      props.history.push(`/profile/${user.uid}`);\n    }\n  };\n\n  const onSubmit = async (data) => {\n    let user;\n    setLoading(true);\n    try {\n      user = await login(data);\n      reset();\n    } catch (error) {\n      console.log(error);\n    }\n\n    if (user) {\n      routeOnLogin(user);\n    } else {\n      setLoading(false);\n    }\n  };\n\n  const formClassName = `ui form ${isLoading ? 'loading' : ''}`;\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"ui card login-card\">\n        <div className=\"content\">\n          <form className={formClassName} onSubmit={handleSubmit(onSubmit)}>\n            <div className=\"field\">\n              <label>\n                Email\n                <input\n                  type=\"email\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  ref={register}\n                />\n              </label>\n            </div>\n            <div className=\"field\">\n              <label>\n                Password\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  ref={register}\n                />\n              </label>\n            </div>\n            <div className=\"field actions\">\n              <button className=\"ui primary button login\" type=\"submit\">\n                Login\n              </button>\n              or\n              <Link to=\"/signup\">Sign Up</Link>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}